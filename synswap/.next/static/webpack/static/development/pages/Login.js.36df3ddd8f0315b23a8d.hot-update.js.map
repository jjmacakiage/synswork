{"version":3,"file":"static/webpack/static/development/pages/Login.js.36df3ddd8f0315b23a8d.hot-update.js","sources":["webpack:///./utils/Auth/login.js"],"sourcesContent":["import fetch from 'isomorphic-unfetch';\nimport { login } from \"./auth\";\n\nexport default async function doLogin(userData) {\n    const username = userData.username;\n    const url = '/api/login';\n    try {\n        const response = await fetch(url, {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({ username })\n        });\n        if (response.status === 200) {\n            const { token } = await response.json();\n            await login({ token });\n            return { token: token, status: 'success' };\n        } else {\n            console.log('Login failed.');\n            // https://github.com/developit/unfetch#caveats\n            let error = new Error(response.statusText);\n            error.response = response;\n            throw error\n        }\n    } catch (error) {\n        console.error(\n            'You have an error in your code or there are Network issues.',\n            error\n        );\n        return error;\n    }\n\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AAEA;AAAA;AAAA;AACA;;;;AADA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AACA;AAFA;AAAA;AAAA;AAKA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAHA;AACA;AALA;AAIA;AACA;AALA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAAA;AAUA;AAVA;AAAA;AAWA;AAAA;AACA;AAZA;AAAA;AAYA;AAAA;AAAA;AACA;AAbA;AAcA;AACA;AACA;AACA;AAjBA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAqBA;AArBA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;A","sourceRoot":""}