{"ast":null,"code":"import _Set from \"@babel/runtime-corejs2/core-js/set\";\nimport _toConsumableArray from \"@babel/runtime-corejs2/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"@babel/runtime-corejs2/helpers/esm/objectSpread\";\nvar INITIAL_STATE = {\n  trades: [],\n  blocknumber: 0\n};\nexport default function TradeReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : INITIAL_STATE;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case 'INITIAL_FETCH':\n      action.payload.length !== 0 ? console.log('Initial Fetch Done') : null;\n      return _objectSpread({}, state, {\n        trades: action.payload.trades,\n        blocknumber: action.payload.blocknumber ? action.payload.blocknumber : state.blocknumber\n      });\n\n    case 'NEW_TRADE':\n      var new_trade_result = _toConsumableArray(state.trades);\n\n      new_trade_result.push(action.payload);\n      return _objectSpread({}, state, {\n        trades: new_trade_result\n      });\n\n    case 'FETCH_TRADES':\n      var trades = _toConsumableArray(state.trades);\n\n      trades.push.apply(trades, _toConsumableArray(action.payload.trades));\n\n      var uniq = _toConsumableArray(new _Set(trades));\n\n      if (uniq !== state.trades) {\n        return _objectSpread({}, state, {\n          trades: uniq,\n          blocknumber: action.payload.blocknumber\n        });\n      }\n\n      console.log('No New Trades');\n      return _objectSpread({}, state);\n\n    default:\n      return _objectSpread({}, state);\n  }\n}","map":{"version":3,"sources":["C:\\Users\\liams\\synswap-web-react\\synswap\\reducers\\TradeReducer.js"],"names":["INITIAL_STATE","trades","blocknumber","TradeReducer","state","action","type","payload","length","console","log","new_trade_result","push","uniq"],"mappings":";;;AAAA,IAAMA,aAAa,GAAG;AAClBC,EAAAA,MAAM,EAAE,EADU;AAElBC,EAAAA,WAAW,EAAE;AAFK,CAAtB;AAKA,eAAe,SAASC,YAAT,GAAqD;AAAA,MAA/BC,KAA+B,uEAAvBJ,aAAuB;AAAA,MAARK,MAAQ;;AAChE,UAAQA,MAAM,CAACC,IAAf;AACI,SAAK,eAAL;AACKD,MAAAA,MAAM,CAACE,OAAP,CAAeC,MAAf,KAA0B,CAA3B,GAAgCC,OAAO,CAACC,GAAR,CAAY,oBAAZ,CAAhC,GAAoE,IAApE;AACA,+BAAYN,KAAZ;AAAmBH,QAAAA,MAAM,EAAEI,MAAM,CAACE,OAAP,CAAeN,MAA1C;AAAkDC,QAAAA,WAAW,EAAGG,MAAM,CAACE,OAAP,CAAeL,WAAf,GACtDG,MAAM,CAACE,OAAP,CAAeL,WADuC,GACzBE,KAAK,CAACF;AAD7C;;AAEJ,SAAK,WAAL;AACI,UAAMS,gBAAgB,sBAAOP,KAAK,CAACH,MAAb,CAAtB;;AACAU,MAAAA,gBAAgB,CAACC,IAAjB,CAAsBP,MAAM,CAACE,OAA7B;AACA,+BAAYH,KAAZ;AAAmBH,QAAAA,MAAM,EAAEU;AAA3B;;AACJ,SAAK,cAAL;AACI,UAAMV,MAAM,sBAAOG,KAAK,CAACH,MAAb,CAAZ;;AACAA,MAAAA,MAAM,CAACW,IAAP,OAAAX,MAAM,qBAASI,MAAM,CAACE,OAAP,CAAeN,MAAxB,EAAN;;AACA,UAAMY,IAAI,sBAAO,SAAQZ,MAAR,CAAP,CAAV;;AACA,UAAIY,IAAI,KAAKT,KAAK,CAACH,MAAnB,EAA2B;AACvB,iCAAYG,KAAZ;AAAmBH,UAAAA,MAAM,EAAEY,IAA3B;AAAiCX,UAAAA,WAAW,EAAEG,MAAM,CAACE,OAAP,CAAeL;AAA7D;AACH;;AACDO,MAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACA,+BAAYN,KAAZ;;AAEJ;AACI,+BAAYA,KAAZ;AApBR;AAsBH","sourcesContent":["const INITIAL_STATE = {\r\n    trades: [],\r\n    blocknumber: 0\r\n};\r\n\r\nexport default function TradeReducer(state = INITIAL_STATE, action) {\r\n    switch (action.type) {\r\n        case 'INITIAL_FETCH':\r\n            (action.payload.length !== 0) ? console.log('Initial Fetch Done') : null;\r\n            return { ...state, trades: action.payload.trades, blocknumber: (action.payload.blocknumber\r\n                    ? action.payload.blocknumber : state.blocknumber)};\r\n        case 'NEW_TRADE':\r\n            const new_trade_result = [...state.trades];\r\n            new_trade_result.push(action.payload);\r\n            return { ...state, trades: new_trade_result };\r\n        case 'FETCH_TRADES':\r\n            const trades = [...state.trades];\r\n            trades.push(...action.payload.trades);\r\n            const uniq = [...new Set(trades)];\r\n            if (uniq !== state.trades) {\r\n                return { ...state, trades: uniq, blocknumber: action.payload.blocknumber };\r\n            }\r\n            console.log('No New Trades');\r\n            return { ...state };\r\n\r\n        default:\r\n            return { ...state };\r\n    }\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}