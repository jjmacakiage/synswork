{"ast":null,"code":"import _slicedToArray from \"@babel/runtime-corejs2/helpers/esm/slicedToArray\";\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { Button, Grid } from '@material-ui/core';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport DataTable from '../components/DataTable';\nimport Table from \"../components/Table\";\nexport default function Blotter() {\n  var _useState = useState({}),\n      _useState2 = _slicedToArray(_useState, 2),\n      data = _useState2[0],\n      setData = _useState2[1];\n\n  var trades = useSelector(function (state) {\n    return state.TradeReducer.trades;\n  });\n  var dispatch = useDispatch();\n  useEffect(function () {\n    setData(trades);\n  }, [trades]);\n\n  function exportToCSV() {\n    var csv = '';\n\n    for (var i = 0; i < data.columns.length; i++) {\n      csv += data.columns[i] + ',';\n    }\n\n    csv += '\\n';\n\n    for (var _i = 0; _i < data.rows.length; _i++) {\n      var row = data.rows[_i];\n      csv += row.join(',');\n      csv += \"\\n\";\n    }\n\n    ;\n    var hiddenElement = document.createElement('a');\n    hiddenElement.href = 'data:text/csv;charset=utf-8,' + encodeURI(csv);\n    hiddenElement.target = '_blank';\n    var date = new Date();\n    var month = date.getUTCMonth();\n    var day = date.getUTCDate();\n    var year = date.getUTCFullYear();\n    var name = year + '-' + month + '-' + day;\n    hiddenElement.download = name + '.csv';\n    hiddenElement.click();\n  }\n\n  return React.createElement(\"div\", null, React.createElement(Grid, {\n    container: true,\n    spacing: 2\n  }, React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    style: {\n      padding: 50\n    }\n  }, React.createElement(Table, {\n    data: data\n  }))));\n}","map":{"version":3,"sources":["C:\\Users\\liams\\synswap-web-react\\synswap\\pages\\Blotter.js"],"names":["React","useEffect","useState","axios","Button","Grid","useDispatch","useSelector","DataTable","Table","Blotter","data","setData","trades","state","TradeReducer","dispatch","exportToCSV","csv","i","columns","length","rows","row","join","hiddenElement","document","createElement","href","encodeURI","target","date","Date","month","getUTCMonth","day","getUTCDate","year","getUTCFullYear","name","download","click","padding"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,MAAT,EAAiBC,IAAjB,QAA6B,mBAA7B;AACA,SAAQC,WAAR,EAAqBC,WAArB,QAAuC,aAAvC;AACA,OAAOC,SAAP,MAAsB,yBAAtB;AACA,OAAOC,KAAP,MAAkB,qBAAlB;AAGA,eAAe,SAASC,OAAT,GAAmB;AAAA,kBACNR,QAAQ,CAAC,EAAD,CADF;AAAA;AAAA,MACvBS,IADuB;AAAA,MACjBC,OADiB;;AAE9B,MAAMC,MAAM,GAAGN,WAAW,CAAC,UAAAO,KAAK;AAAA,WAAIA,KAAK,CAACC,YAAN,CAAmBF,MAAvB;AAAA,GAAN,CAA1B;AACA,MAAMG,QAAQ,GAAGV,WAAW,EAA5B;AAGAL,EAAAA,SAAS,CAAC,YAAM;AACZW,IAAAA,OAAO,CAACC,MAAD,CAAP;AACH,GAFQ,EAEN,CAACA,MAAD,CAFM,CAAT;;AAIA,WAASI,WAAT,GAAuB;AACnB,QAAIC,GAAG,GAAG,EAAV;;AACA,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGR,IAAI,CAACS,OAAL,CAAaC,MAAjC,EAAyCF,CAAC,EAA1C,EAA8C;AAC1CD,MAAAA,GAAG,IAAIP,IAAI,CAACS,OAAL,CAAaD,CAAb,IAAkB,GAAzB;AACH;;AACDD,IAAAA,GAAG,IAAI,IAAP;;AACA,SAAK,IAAIC,EAAC,GAAG,CAAb,EAAgBA,EAAC,GAAGR,IAAI,CAACW,IAAL,CAAUD,MAA9B,EAAsCF,EAAC,EAAvC,EAA2C;AACvC,UAAII,GAAG,GAAGZ,IAAI,CAACW,IAAL,CAAUH,EAAV,CAAV;AACAD,MAAAA,GAAG,IAAIK,GAAG,CAACC,IAAJ,CAAS,GAAT,CAAP;AACAN,MAAAA,GAAG,IAAI,IAAP;AACH;;AAAA;AAED,QAAIO,aAAa,GAAGC,QAAQ,CAACC,aAAT,CAAuB,GAAvB,CAApB;AACAF,IAAAA,aAAa,CAACG,IAAd,GAAqB,iCAAiCC,SAAS,CAACX,GAAD,CAA/D;AACAO,IAAAA,aAAa,CAACK,MAAd,GAAuB,QAAvB;AACA,QAAIC,IAAI,GAAG,IAAIC,IAAJ,EAAX;AACA,QAAIC,KAAK,GAAGF,IAAI,CAACG,WAAL,EAAZ;AACA,QAAIC,GAAG,GAAGJ,IAAI,CAACK,UAAL,EAAV;AACA,QAAIC,IAAI,GAAGN,IAAI,CAACO,cAAL,EAAX;AACA,QAAIC,IAAI,GAAGF,IAAI,GAAG,GAAP,GAAaJ,KAAb,GAAqB,GAArB,GAA2BE,GAAtC;AACAV,IAAAA,aAAa,CAACe,QAAd,GAAyBD,IAAI,GAAG,MAAhC;AACAd,IAAAA,aAAa,CAACgB,KAAd;AACH;;AAED,SACE,iCACI,oBAAC,IAAD;AAAM,IAAA,SAAS,MAAf;AAAgB,IAAA,OAAO,EAAG;AAA1B,KACI,oBAAC,IAAD;AAAM,IAAA,IAAI,MAAV;AAAW,IAAA,EAAE,EAAG,EAAhB;AAAqB,IAAA,KAAK,EAAE;AAAEC,MAAAA,OAAO,EAAE;AAAX;AAA5B,KACM,oBAAC,KAAD;AAAO,IAAA,IAAI,EAAG/B;AAAd,IADN,CADJ,CADJ,CADF;AAUH","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport { Button, Grid } from '@material-ui/core';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport DataTable from '../components/DataTable';\r\nimport Table from \"../components/Table\";\r\n\r\n\r\nexport default function Blotter() {\r\n    const [data, setData] = useState({});\r\n    const trades = useSelector(state => state.TradeReducer.trades);\r\n    const dispatch = useDispatch();\r\n\r\n\r\n    useEffect(() => {\r\n        setData(trades);\r\n    }, [trades]);\r\n\r\n    function exportToCSV() {\r\n        let csv = '';\r\n        for (let i = 0; i < data.columns.length; i++) {\r\n            csv += data.columns[i] + ',';\r\n        }\r\n        csv += '\\n';\r\n        for (let i = 0; i < data.rows.length; i++) {\r\n            let row = data.rows[i];\r\n            csv += row.join(',');\r\n            csv += \"\\n\";\r\n        };\r\n\r\n        let hiddenElement = document.createElement('a');\r\n        hiddenElement.href = 'data:text/csv;charset=utf-8,' + encodeURI(csv);\r\n        hiddenElement.target = '_blank';\r\n        let date = new Date();\r\n        let month = date.getUTCMonth();\r\n        let day = date.getUTCDate();\r\n        let year = date.getUTCFullYear();\r\n        let name = year + '-' + month + '-' + day;\r\n        hiddenElement.download = name + '.csv';\r\n        hiddenElement.click();\r\n    }\r\n\r\n    return (\r\n      <div>\r\n          <Grid container spacing={ 2 }>\r\n              <Grid item xs={ 12 } style={{ padding: 50 }}>\r\n                    <Table data={ data } />\r\n              </Grid>\r\n          </Grid>\r\n\r\n      </div>\r\n    );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}