{"ast":null,"code":"import _objectSpread from \"@babel/runtime-corejs2/helpers/esm/objectSpread\";\nimport _slicedToArray from \"@babel/runtime-corejs2/helpers/esm/slicedToArray\";\nimport React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { Button, Grid, makeStyles, Tabs, Tab, Select, TextField, InputLabel, Divider, OutlinedInput } from '@material-ui/core';\nimport { Eclipse } from \"react-loading-io\";\nimport { ErrorMessage, Field, Formik, Form } from \"formik\";\nimport LoadingOverlay from \"react-loading-overlay\";\nimport { TabContainer } from \"../../utils/tradehelpers\";\nimport { extractByKey } from \"../../js/new_trade_fields\";\nimport Typography from \"@material-ui/core/Typography\";\n/**\n * @constant useStyles\n * hook used for styling\n */\n\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {\n      flexGrow: 1,\n      backgroundColor: theme.palette.background.paper\n    },\n    customise: {\n      marginTop: 20\n    }\n  };\n});\n/**\n * @class NewTradeContent\n * Contains the forms for creating a NewTrade\n * Dependencies used:\n * @material-ui for Grid, makeStyles, Tabs, Tab, Typography\n * Custom Components used:\n * @class NewTradeContent\n */\n\nexport default function NewTradeContent(props) {\n  var classes = useStyles();\n  var fields = props.fields,\n      counterpartyList = props.counterpartyList,\n      trades_length = props.trades_length,\n      schema = props.schema,\n      validationFunctions = props.validationFunctions;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isLoading = _useState2[0],\n      changeLoading = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      counterparty = _useState4[0],\n      changeCounterparty = _useState4[1];\n\n  var dispatch = useDispatch();\n\n  var _useState5 = useState(0),\n      _useState6 = _slicedToArray(_useState5, 2),\n      value = _useState6[0],\n      setValue = _useState6[1];\n  /**\n   * @function handleSubmit\n   * @param result\n   * takes fields passed in from the form and appends to 'tradeStates' piece of state\n   */\n\n\n  function handleSubmit(result) {\n    var nameRemoved = result.filter(function (value, index) {\n      return index !== result.length - 1;\n    });\n    var payload = {\n      id: trades_length,\n      value: nameRemoved\n    };\n    dispatch({\n      type: 'NEW_TRADE',\n      payload: payload\n    });\n  }\n  /**\n   * @function addFields\n   * @param addFields\n   * takes the custom fields created in component and appends to NEW_TRADE_FIELDS piece of state\n   */\n\n\n  function addFields(addFields) {\n    dispatch({\n      type: 'APPEND_FIELDS',\n      payload: addFields\n    });\n  }\n  /**\n   * @function tabChange\n   * @param e\n   * @param newValue\n   * eventHandler helper function that takes the desired tab as a parameter and makes it the new active tab\n   */\n\n\n  function tabChange(e, newValue) {\n    setValue(newValue);\n  }\n  /**\n   * @return\n   * @type Grid\n   * @type TabContainer\n   * @type div\n   */\n\n\n  function handleCounterpartyChange(e) {\n    changeCounterparty(e.target.value);\n  }\n\n  function createFormColumns(array) {\n    return React.createElement(React.Fragment, null, array.map(function (field, index) {\n      if (field[1] !== 'select') {\n        return React.createElement(Grid, {\n          item: true,\n          xs: 4\n        }, React.createElement(Field, {\n          name: field[0],\n          key: field[0],\n          type: field[1],\n          render: function render() {\n            return React.createElement(TextField, {\n              label: field[1] === 'date' ? '' : field[0],\n              disabled: counterparty === '',\n              variant: \"outlined\",\n              type: field[1]\n            });\n          }\n        }), React.createElement(ErrorMessage, {\n          name: field[0]\n        }));\n      } else {\n        return React.createElement(Grid, {\n          item: true,\n          xs: 4\n        }, React.createElement(Field, {\n          name: field[0],\n          key: field[0],\n          render: function render() {\n            return React.createElement(\"div\", null, React.createElement(InputLabel, {\n              htmlFor: field[0]\n            }, \" \", field[0], \" \"), React.createElement(Select, {\n              input: React.createElement(OutlinedInput, {\n                name: field[0]\n              })\n            }, React.createElement(\"option\", {\n              value: \"DEFAULT\"\n            }, \" Default\")), React.createElement(ErrorMessage, {\n              name: field[0]\n            }));\n          }\n        }));\n      }\n    }));\n  }\n\n  function createGrid(items, divider) {\n    return React.createElement(Grid, {\n      container: true,\n      spacing: 2\n    }, items.map());\n  }\n\n  function extendedFields() {\n    var extended = fields.filter(function (field) {\n      return field[2] === '1';\n    });\n\n    var returnExtended = function returnExtended(i) {\n      return extended[i];\n    };\n\n    return React.createElement(Grid, {\n      container: true,\n      spacing: 2\n    }, [[0], [1, 2, 3], [4], [5, 6], [7, 8, 9], [10, 11, 12], [13, 14, 15], [16, 17], [18, 19, 20], [21, 22, 23]].map(function (value, index) {\n      var temp = [];\n\n      for (var i = 0; i < value.length; i++) {\n        temp.push(returnExtended(value[i]));\n      }\n\n      return React.createElement(Grid, {\n        item: true,\n        xs: 12\n      }, React.createElement(Grid, {\n        container: true,\n        spacing: 2\n      }, createFormColumns(temp)));\n    }));\n  }\n\n  return React.createElement(\"div\", {\n    className: classes.root\n  }, React.createElement(\"div\", null, React.createElement(Typography, {\n    variant: \"overline\"\n  }, \" New Trade \"), React.createElement(LoadingOverlay, {\n    active: isLoading,\n    spinner: React.createElement(Eclipse, null),\n    styles: {\n      overlay: function overlay(base) {\n        return _objectSpread({}, base, {\n          background: 'rgba(255, 255, 255, 0.1)'\n        });\n      }\n    }\n  }, React.createElement(Formik, {\n    initialValues: fields.map(function () {\n      return '';\n    }),\n    enableReinitialize: true,\n    onSubmit: function onSubmit(values, actions) {\n      var extractByKey = validationFunctions[0];\n      console.log(values);\n      actions.setSubmitting(false);\n    },\n    validateOnBlur: true,\n    render: function render(_ref) {\n      var errors = _ref.errors,\n          status = _ref.status,\n          touched = _ref.touched,\n          isSubmitting = _ref.isSubmitting,\n          isValidating = _ref.isValidating;\n      return React.createElement(Form, null, React.createElement(Select, {\n        value: counterparty,\n        onChange: function onChange(e) {\n          return handleCounterpartyChange(e);\n        }\n      }, React.createElement(\"option\", {\n        value: \"\"\n      }, \" Select Counterparty \"), counterpartyList.map(function (value, index) {\n        return React.createElement(\"option\", {\n          key: value + index,\n          value: value\n        }, value);\n      })), React.createElement(Grid, {\n        container: true,\n        spacing: 2\n      }, fields.map(function (field, index) {\n        if (field[2] === '0') {\n          return React.createElement(Grid, {\n            item: true,\n            xs: 6,\n            style: {\n              marginTop: 2,\n              marginBottom: 2\n            }\n          }, createFormColumns([field]));\n        }\n      })), React.createElement(\"div\", {\n        style: {\n          marginTop: 20,\n          marginBottom: 20\n        }\n      }, React.createElement(Divider, null)), extendedFields(), React.createElement(Button, {\n        variant: \"contained\",\n        type: \"submit\",\n        disabled: isValidating || isSubmitting\n      }, \" Submit \"));\n    }\n  }))));\n}","map":{"version":3,"sources":["/Users/jjmacakiage/dev/synswap-web-react/synswap/components/newtrade/NewTradeContent.js"],"names":["React","useState","useEffect","useSelector","useDispatch","Button","Grid","makeStyles","Tabs","Tab","Select","TextField","InputLabel","Divider","OutlinedInput","Eclipse","ErrorMessage","Field","Formik","Form","LoadingOverlay","TabContainer","extractByKey","Typography","useStyles","theme","root","flexGrow","backgroundColor","palette","background","paper","customise","marginTop","NewTradeContent","props","classes","fields","counterpartyList","trades_length","schema","validationFunctions","isLoading","changeLoading","counterparty","changeCounterparty","dispatch","value","setValue","handleSubmit","result","nameRemoved","filter","index","length","payload","id","type","addFields","tabChange","e","newValue","handleCounterpartyChange","target","createFormColumns","array","map","field","createGrid","items","divider","extendedFields","extended","returnExtended","i","temp","push","overlay","base","values","actions","console","log","setSubmitting","errors","status","touched","isSubmitting","isValidating","marginBottom"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from \"react-redux\";\nimport {Button, Grid, makeStyles, Tabs, Tab, Select, TextField, InputLabel, Divider, OutlinedInput } from '@material-ui/core';\nimport {Eclipse} from \"react-loading-io\";\nimport {ErrorMessage, Field, Formik, Form} from \"formik\";\nimport LoadingOverlay from \"react-loading-overlay\";\n\n\n\nimport { TabContainer } from \"../../utils/tradehelpers\";\nimport { extractByKey } from \"../../js/new_trade_fields\";\nimport Typography from \"@material-ui/core/Typography\";\n\n\n/**\n * @constant useStyles\n * hook used for styling\n */\nconst useStyles = makeStyles(theme => ({\n    root: {\n        flexGrow: 1,\n        backgroundColor: theme.palette.background.paper,\n    },\n    customise: {\n        marginTop: 20\n    }\n}));\n\n/**\n * @class NewTradeContent\n * Contains the forms for creating a NewTrade\n * Dependencies used:\n * @material-ui for Grid, makeStyles, Tabs, Tab, Typography\n * Custom Components used:\n * @class NewTradeContent\n */\n\nexport default function NewTradeContent(props) {\n    const classes = useStyles();\n    const { fields, counterpartyList, trades_length, schema, validationFunctions } = props;\n    const [isLoading, changeLoading] = useState(false);\n    const [counterparty, changeCounterparty] = useState('');\n    const dispatch = useDispatch();\n    const [value, setValue] = useState(0);\n\n\n    /**\n     * @function handleSubmit\n     * @param result\n     * takes fields passed in from the form and appends to 'tradeStates' piece of state\n     */\n    function handleSubmit(result) {\n        const nameRemoved = result.filter((value, index) => {\n            return index !== result.length - 1;\n        });\n        const payload = { id: trades_length, value: nameRemoved };\n        dispatch({ type: 'NEW_TRADE', payload: payload });\n    }\n\n\n    /**\n     * @function addFields\n     * @param addFields\n     * takes the custom fields created in component and appends to NEW_TRADE_FIELDS piece of state\n     */\n    function addFields(addFields) {\n        dispatch({ type: 'APPEND_FIELDS', payload: addFields });\n    }\n\n    /**\n     * @function tabChange\n     * @param e\n     * @param newValue\n     * eventHandler helper function that takes the desired tab as a parameter and makes it the new active tab\n     */\n\n    function tabChange(e, newValue) {\n        setValue(newValue);\n    }\n\n    /**\n     * @return\n     * @type Grid\n     * @type TabContainer\n     * @type div\n     */\n\n    function handleCounterpartyChange(e) {\n        changeCounterparty(e.target.value);\n    }\n    function createFormColumns(array) {\n        return (\n            <>\n            {\n                array.map((field, index) => {\n                    if (field[1] !== 'select') {\n                        return (\n                            <Grid item xs={ 4 }>\n                                <Field name={field[0]}\n                                       key={field[0]}\n                                       type={ field[1] }\n                                       render={() => (\n                                           <TextField label={ (field[1] === 'date') ? '' : field[0]}\n                                                      disabled={counterparty === ''}\n                                                      variant=\"outlined\" type={ field[1] }\n                                           />\n                                       )}\n                                />\n                                <ErrorMessage name={field[0]} />\n                            </Grid>\n                        );\n                    }\n                    else {\n                        return (\n                            <Grid item xs={ 4 }>\n                                <Field name={field[0]}\n                                       key={field[0]}\n                                       render={() => (\n                                           <div>\n                                               <InputLabel\n                                                   htmlFor={field[0]}> {field[0]} </InputLabel>\n                                               <Select\n                                                   input={<OutlinedInput name={field[0]} />}\n                                               >\n                                                   <option value=\"DEFAULT\"> Default</option>\n                                               </Select>\n                                               <ErrorMessage name={field[0]}/>\n                                           </div>\n                                       )}\n                                />\n                            </Grid>\n                        )\n                    }\n                })\n            }\n            </>\n        )\n    }\n\n    function createGrid(items, divider) {\n        return (\n            <Grid container spacing={ 2 }>\n                {\n                    items.map()\n                }\n            </Grid>\n        )\n    }\n    function extendedFields() {\n        const extended = fields.filter((field) => {\n            return field[2] === '1';\n        });\n        const returnExtended = i => {\n            return extended[i];\n        };\n        return (\n            <Grid container spacing={ 2 }>\n                {\n                    [[0], [1,2,3], [4], [5,6], [7,8,9], [10,11,12], [13,14,15], [16,17], [18,19,20], [21,22,23]].map((value, index) => {\n                        const temp = [];\n                        for (let i = 0; i < value.length; i++) {\n                            temp.push(returnExtended(value[i]));\n                        }\n                        return (\n                            <Grid item xs={ 12 }>\n                                <Grid container spacing={ 2 }>\n                                    { createFormColumns(temp) }\n                                </Grid>\n                            </Grid>\n                        )\n                    })\n                }\n            </Grid>\n        );\n    }\n\n    return (\n        <div className={ classes.root }>\n            <div>\n                <Typography variant=\"overline\"> New Trade </Typography>\n                <LoadingOverlay\n                    active={ isLoading }\n                    spinner={ <Eclipse />}\n                    styles={{\n                        overlay: (base) => ({\n                            ...base,\n                            background: 'rgba(255, 255, 255, 0.1)'\n                        })\n                    }}\n                >\n                    <Formik\n                        initialValues={ fields.map(() => {\n                            return '';\n                        }) }\n                        enableReinitialize={ true }\n                        onSubmit={(values, actions) => {\n                            const extractByKey = validationFunctions[0];\n                            console.log(values);\n                            actions.setSubmitting(false)\n                        }}\n                        validateOnBlur={ true }\n                        render={({ errors, status, touched, isSubmitting, isValidating }) => (\n                            <Form>\n                                <Select value={ counterparty } onChange={ e => handleCounterpartyChange(e) } >\n                                    <option value=\"\"> Select Counterparty </option>\n                                    { counterpartyList.map((value, index) => {\n                                        return (\n                                            <option key={ value + index } value={ value }>\n                                                {value}\n                                            </option>\n                                        );\n                                    })}\n                                </Select>\n                                <Grid container spacing={ 2 }>\n                                {\n                                    fields.map((field, index) => {\n                                        if (field[2] === '0') {\n                                            return (\n                                                <Grid item xs={ 6 } style={{ marginTop: 2, marginBottom: 2 }}>\n                                                    {createFormColumns([field])}\n                                                </Grid>\n                                            )\n                                        }\n                                    })\n                                }\n                                </Grid>\n                                <div style={{ marginTop: 20, marginBottom: 20 }}>\n                                    <Divider />\n                                </div>\n                                { extendedFields() }\n                                <Button variant=\"contained\" type=\"submit\" disabled={ isValidating || isSubmitting }> Submit </Button>\n                            </Form>\n                        )}\n                    />\n                </LoadingOverlay>\n            </div>\n        </div>\n    );\n}\n\n\n"]},"metadata":{},"sourceType":"module"}